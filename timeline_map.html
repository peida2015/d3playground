<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>States Joining the Union</title>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/topojson.v1.min.js"></script>
    <script src="./dates.js" type="text/javascript"></script>
    <script src="./timeline_map.js" type="text/javascript"></script>
    <link rel="stylesheet" href="./timeline_map.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./custom.css" />
  </head>
  <body>
    <h2>Introduction</h2>
    <p class="description">
      In this project, I decided to play with map-drawing and basic axis-drawing in D3.  The result of this combination that is natural to me is a timeline and a map together showing progression of historical events such as States joining the Union. It is the result of heavily adapting codes from two excellent D3 tutorials: <a href="https://bost.ocks.org/mike/map/">Let's Make a Map</a> and <a href="https://bl.ocks.org/mbostock/6452972">Brush as a Slider</a>
    </p>
    <br>
    <h3>The Data</h3>
    <p class="description">
      Making the US map requires conversion of SHP (shape) file into GeoJSON file as directed in the tutorial using the ogr2ogr CLI tool. The source SHP files came from the <a href="https://www.census.gov/geo/maps-data/data/tiger-line.html">US Census Bureau TIGER project</a>.  The format of GeoJSON looks like this:
    </p>
    <p class="code">
      { "type": "FeatureCollection",
        "features": [{
          "type": "Feature",
          "geometry": { "type": "Point", "coordinates": [102.0, 0.5] },
          "properties": { "name": ":StateName" }
        }]
      }
    </p>
    <p class="description">
      The timeline requires a list of name and date of admission of each state.  It is formatted as a JSON object with state name as the property and admission date as the value.
    </p>
    <br>
    <h3>The Map</h3>
    <p class="description">
      Making a map takes a following steps:
      <ol>
        <li>Choose a map projection and scaling factor for the path using D3.geo</li>
        <li>Create a path generator using D3.geo.path for the chosen projection</li>
        <li>Create a D3 selection for all the states ("features" in GeoJSON) </li>
        <li>Draw the projected path with the path generator and append on an existing SVG group for the map.</li>
        <li>Label and style the places, legends, titles, etc.</li>
      </ol>
    </p>
    
  </body>
</html>
